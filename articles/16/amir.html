<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>The Amir Problem</title>
  <meta name="description" content="The Amir problem  was proposed to me a long time ago by an engineering student named Amir. Suppose you have a lottery based on drawing 6 numbers from a set o...">


  <link rel="stylesheet" href="/css/tufte.css">	
  

  <!-- Google Fonts loaded here -->
  <link href='//fonts.googleapis.com/css?family=Lato:400,400italic' rel='stylesheet' type='text/css'>

  <!-- Load up MathJax script if needed ... specify in /_data/options.yml file-->
  
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  

  <link rel="canonical" href="http://localhost:4000/articles/16/amir">
  <link rel="alternate" type="application/rss+xml" title="The Proof Chef" href="http://localhost:4000/feed.xml" />
</head>

  <body>
    <!--- Header and nav template site-wide -->
<header>
    <nav class="group">
		<a href="/"><img class="badge" src="/assets/img/lambda-parens-logo.jpg" alt="New"></a>
		<a href="/">Notebook</a>
		<a href="/page">Articles</a>
		<a href="/page/code.html">Code</a>
		<a href="/about">Contact</a>
	</nav>
</header>

    <article>
      <h1>The amir problem</h1>
<p>February 14, 2016</p>


<p><span class="newthought">The Amir problem</span>  was proposed to me a long time ago by an 
engineering student named Amir. Suppose you have a lottery based 
on drawing 6 numbers from a set of 49 numbers. How many such 
combinations do you need in order to guarantee that the outcome 
will always score at least 3 numbers out of the winning draw of 6?</p>

<p>Here is a brute-force solution. Generate all 13,983,816 
combinations of 6 objects chosen from a set of 49. Go through 
them one at time. Add a combination to the solution set if it 
does not have more that two objects in common with any other 
combination in the solution set. If you do this you’re likely
to get a solution set with about 450 combinations.</p>

<p>The interesting thing about this problem is that the size of
the solution set (we can call it the Amir set) depends on the
order in which you examine and add the combinations. If you
shuffle the vector of 13.9 million combinations and then build
an Amir set, you can get, say, 400 elements or 550 elements for
example. What is the smallest possible Amir set? What is the 
largest possible Amir set? I don’t know yet.</p>

<p>For a long time, the smallest Amir set I found was around 360
combinations. But recently, by means of a new trick, I happend
to find one that is only 241 combinations. How low can it go?</p>

<p>To do experiments with Amir sets, we need some fast code, 
so this calls for C++. Combinations are represented by 
the first 49 bits of 64-bit integers with popcount 6. They 
are compared using Kernighan’s popcount algorithm, which for 
this particular application is the fastest way I have yet found. 
The original Amir program was written in Matlab and it took 
something like ten days (!) to finish on an old Intel Pentium. 
But today, with C++ and bit-hacking, a typical Amir set can be 
computed on average hardware in about 1 second.</p>

<p><a href="https://github.com/tedszy/more-fun-to-compute/tree/master/amir">Amir code</a>.</p>

<p>You can play with the order in which the combinations are 
evaluated, and with the way that the Amir set is seeded. 
Try to find an Amir set smaller than 241 elements. Let me 
know if you do.</p>

<p>The Amir project has some Common Lisp code for generating a 
latex/tikz graphic representing an Amir set. Each element of 
an Amir set is a popcount 6 number in a 49-bit field, so each 
one can be represented as a path through a lattice: 1 is up 
and 0 is to the right. Below is the visualization of the 241 
element Amir set.</p>

<div><img class="fullwidth" src="assets/img/amir-241.png" /></div>
<p><span class="marginnote"></span></p>




    </article>
    <span class="print-footer">The Amir Problem - February 14, 2016 - Ted Szylowiec</span>
    <footer>
  <ul class="footer-links group">
   <!-- 
   <li><a href="mailto:hate@spam.net"><span class="icon-mail"></span></a></li>    
   -->
    
      <li>
        <a href="//github.com/tedszy"><span class="icon-github"></span></a>
      </li>
      
  </ul>
<div class="credits">
<span>&copy; 2020 &nbsp;&nbsp;TED SZYLOWIEC</span></br> 
<span>This site created with the <a href="//github.com/clayh53/tufte-jekyll">Tufte theme for Mathematics Teaching </a> in <a href="//jekyllrb.com">Jekyll</a>.</span> 
</div>  
</footer>

  </body>
</html>
